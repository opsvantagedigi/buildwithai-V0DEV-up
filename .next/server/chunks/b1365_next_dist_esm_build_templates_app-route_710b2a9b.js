module.exports=[88584,e=>{"use strict";var t=e.i(8041),r=e.i(99896),a=e.i(12033),n=e.i(81147),i=e.i(41419),o=e.i(8224),s=e.i(89956),l=e.i(3480),c=e.i(77484),d=e.i(27230),u=e.i(43858),p=e.i(63991),h=e.i(51205),g=e.i(36658),m=e.i(11918),y=e.i(93695);e.i(81551);var f=e.i(17996),b=e.i(24278),v=e.i(72625),w=e.i(40078),R=e.i(52113);let T=[{namePattern:/namecheap/i,score:80,label:"Trusted mainstream registrar",notes:"Popular, cost-effective, widely used."},{namePattern:/godaddy/i,score:70,label:"Large mainstream registrar",notes:"Widely used; upsells may be frequent."},{namePattern:/cloudflare/i,score:90,label:"High-reputation registrar",notes:"Transparent pricing and strong DNS platform."},{namePattern:/google/i,score:85,label:"Well-known registrar",notes:"Strong brand and infrastructure."}],C=function(e){let t=0,r={},a=[];if(!e)return a.push("No RDAP data available to compute health."),{score:40,grade:"D",factors:r,explanations:a};if(e.created){let n=Date.parse(e.created);if(isNaN(n))a.push("The domain's creation date could not be parsed.");else{let e=(Date.now()-n)/31536e6;e>5?(t+=20,r.age="Strong",a.push("This domain has a long history, which is often seen as more trustworthy.")):e>1?(t+=10,r.age="Moderate",a.push("This domain has some history but is still relatively young.")):(r.age="New domain",a.push("This domain is newly registered, which may require extra trust-building."))}}else a.push("The domain's creation date is not available.");e.dnssec?(t+=15,r.dnssec="Enabled",a.push("DNSSEC is enabled, which improves integrity and security of DNS responses.")):(r.dnssec="Not enabled",a.push("DNSSEC is not enabled; enabling it can improve DNS security."));let n=Array.isArray(e.status)?e.status.join(" ").toLowerCase():"";n.includes("clienttransferprohibited")||n.includes("transfer prohibited")||n.includes("client transfer prohibited")?(t+=10,r.lock="Locked",a.push("The domain is transfer-locked, which helps protect against unauthorized transfers.")):(r.lock="Unlocked",a.push("The domain appears to be transferable; ensure registrar security is configured correctly.")),e.nameservers?.length>=2?(t+=10,r.nameservers="Good diversity",a.push("Multiple nameservers are configured, improving resilience and uptime.")):e.nameservers?.length===1?(r.nameservers="Single nameserver",a.push("Only one nameserver is configured; adding more can improve resilience.")):(r.nameservers="None listed",a.push("No nameservers are listed; DNS may not be configured.")),e.registrar?(t+=5,r.registrar="Known registrar",a.push("The domain is managed by a named registrar.")):(r.registrar="Unknown registrar",a.push("The registrar is not clearly identified in RDAP."));let i=function(e){if(!e)return{score:50,label:"Unknown registrar",notes:"No specific reputation data available."};let t=T.find(t=>t.namePattern.test(e));return t?{score:t.score,label:t.label,notes:t.notes}:{score:60,label:"Unclassified registrar",notes:"No specific reputation info; treat as neutral."}}(e.registrar);t+=Math.round((i.score-50)/10),r.registrarReputation=i,"Unclassified registrar"!==i.label&&"Unknown registrar"!==i.label?a.push(`Registrar reputation: ${i.label}. ${i.notes??""}`):a.push("Registrar reputation is neutral or unknown.");let o=Math.min(Math.max(t,0),100);return{score:o,grade:o>85?"A":o>70?"B":o>50?"C":"D",factors:r,explanations:a}},N={com:{price:14,category:"standard",notes:"Most common global TLD."},net:{price:14,category:"standard"},org:{price:14,category:"standard"},dev:{price:30,category:"niche",notes:"Developer-focused TLD."},app:{price:25,category:"niche"},tech:{price:30,category:"niche"},io:{price:60,category:"premium",notes:"Popular with startups/dev."},ai:{price:70,category:"premium",notes:"AI-focused, often premium."},xyz:{price:3,category:"budget"},online:{price:5,category:"budget"},site:{price:4,category:"budget"},studio:{price:25,category:"niche"},design:{price:25,category:"niche"},agency:{price:25,category:"niche"},digital:{price:20,category:"niche"},"co.nz":{price:28,category:"ccTld"},nz:{price:25,category:"ccTld"},uk:{price:20,category:"ccTld"},co:{price:25,category:"ccTld"},de:{price:18,category:"ccTld"},fr:{price:18,category:"ccTld"},jp:{price:25,category:"ccTld"},ca:{price:20,category:"ccTld"},au:{price:22,category:"ccTld"},cloud:{price:40,category:"niche"},ai_cc:{price:70,category:"premium"},shop:{price:20,category:"niche"},store:{price:20,category:"niche"},finance:{price:45,category:"niche"},crypto:{price:50,category:"niche"},eth:{price:80,category:"premium"},wallet:{price:40,category:"niche"}};async function S(e){try{let t=await w.default.fetchRdap(e),r=w.default.normalizeToCanonical(t);if(r&&"boolean"==typeof r.registered)return{domain:e,available:!r.registered,reason:r.registered?"Domain is registered":"Domain appears available"};return{domain:e,available:null,reason:"RDAP response did not indicate registration status"}}catch(t){return{domain:e,available:null,reason:"RDAP lookup failed"}}}async function D(e){let{brand:t,tld:r}=function(e){let t=e.toLowerCase(),r=t.split(".");if(r.length<2)return{brand:t,tld:""};let a=r.slice(1).join(".");return{brand:r[0],tld:a}}(e),a=[],n=(t,r,n,i)=>{let o,s,l,c,d;if(t.toLowerCase()===e.toLowerCase())return;let u=(s=(o=function(e){let t=e.toLowerCase().split(".");if(t.length<=1)return"";let r=t.slice(-2).join(".");return N[r]?r:t[t.length-1]}(t))?N[o]:void 0,l=s?.price??20,c=s?.category??"standard",d=s?.notes??(o?`Estimated pricing for .${o}`:"Generic estimated pricing"),{price:l,estimated:!0,tld:o,category:c,notes:d}),p=u&&"object"==typeof u?u.price??null:"number"==typeof u?u:null;a.push({domain:t,reason:r,similarity:n,suggestedUse:i,price:p,availability:null})};return t&&(n(`get${t}.${r||"com"}`,"Action-oriented brand variant",.9,"Landing page"),n(`try${t}.${r||"com"}`,"Experimentation/early-stage variant",.85,"Beta/SaaS"),n(`${t}app.${r||"com"}`,"App-focused naming",.8,"Product/app site"),n(`${t}hq.${r||"com"}`,"Headquarters-style variant",.8,"Main company site"),n(`${t}studio.${r||"studio"}`,"Creative/agency feeling",.75,"Creative portfolio"),n(`${t}.ai`,"AI-forward positioning",.7,"AI products/services"),n(`${t}.dev`,"Developer/tech positioning",.7,"Developer docs / product"),n(`${t}.studio`,"Studio/creative positioning",.65,"Portfolio / studio site")),a}async function E(e){let t=await Promise.all(e.map(e=>S(e.domain)));return e.map((e,r)=>({...e,availability:t[r].available,availabilityReason:t[r].reason}))}var x=e.i(24979),A=e.i(34819);async function P(e){let t,r,a,n,i,o,s,l,c,d,u={};u.rdap=w.default.fetchRdap(e).then(e=>w.default.normalizeToCanonical(e)).catch(e=>({error:"rdap_error",message:String(e?.message||e)})),u.pricing=(0,R.getPricingData)().catch(e=>({error:"pricing_error",message:String(e?.message||e)})),u.availability=u.rdap.then(e=>e&&void 0!==e.registered?{available:!e.registered}:{available:null}).catch(()=>({available:null}));let[p,h,g]=await Promise.all([u.rdap,u.pricing,u.availability]),m=h;(!m||Array.isArray(m)&&0===m.length)&&(m={currency:"USD",estimated:!0,notes:"Fallback pricing estimate based on TLD; final price shown at checkout.",items:[{type:"register",price:15,periodYears:1}]});let y=p&&!p.error?C(p):{score:null},f=await D(e),v=await E(f),T=p&&!p.error?function(e){let t=[],r=e.nameservers||[];if(!r.length)return t.push({level:"critical",message:"No nameservers are listed; DNS is likely not configured and the domain may not resolve."}),t;1===r.length?t.push({level:"warning",message:"Only one nameserver is configured; add additional nameservers for higher resilience."}):t.push({level:"info",message:`Multiple nameservers (${r.length}) are configured, which improves DNS resilience.`});let a=!!e.dnssec;return t.push({level:a?"info":"warning",message:a?"DNSSEC is enabled; DNS responses are better protected against tampering.":"DNSSEC is not enabled; consider enabling it to protect DNS integrity."}),t}(p):[],N=(t=[],r={},a=0,i=(n=e.toLowerCase().split("."))[0],o=n.slice(1).join("."),(s=i.length)<=12?(a+=20,r.length="Short",t.push("Short domains are easier to remember and type, which can indirectly help SEO.")):s<=20?(a+=10,r.length="Moderate",t.push("Medium-length domains are acceptable, but shorter is often more brandable.")):(r.length="Long",t.push("Long domains are harder to remember and may be less brandable.")),0===(l=(i.match(/-/g)||[]).length)?(a+=15,r.hyphens="None",t.push("No hyphens makes the domain easier to type and say aloud.")):1===l?(a+=5,r.hyphens="Single hyphen",t.push("A single hyphen is acceptable, but avoid overusing hyphens.")):(r.hyphens="Multiple hyphens",t.push("Multiple hyphens can look spammy and are harder to communicate verbally.")),/\d/.test(i)?(r.digits="Contains digits",t.push("Numbers in domains can be harder to communicate and remember.")):(a+=10,r.digits="No digits",t.push("No numbers make the domain clearer to say and remember.")),a+=(c=o?["com","org","net"].includes(o)?{weight:10,label:"Common, trusted TLD"}:["ai","io","dev","app"].includes(o)?{weight:5,label:"Modern, tech-aligned TLD"}:["xyz","online","site"].includes(o)?{weight:0,label:"Less traditional TLD"}:{weight:0,label:"Neutral TLD"}:{weight:0,label:"Unknown TLD"}).weight,r.tld=c.label,t.push(c.label+" is generally acceptable for SEO."),["best","cheap","free","discount"].some(e=>i.includes(e))?(r.brandability="Keyword-heavy",t.push("Very keyword-stuffed domains can look spammy; brandable names often age better.")):(a+=10,r.brandability="Brandable or neutral",t.push("The domain does not appear overly keyword-stuffed, which is good for long-term brand building.")),{score:d=Math.min(100,a),grade:d>85?"A":d>70?"B":d>50?"C":"D",factors:r,explanations:t}),S=b.NextResponse.json({success:!0,domain:e,rdap:p,pricing:m,availability:g,health:y,recommendations:v,dnsDiagnostics:T,seo:N});return S.headers.set("Cache-Control","public, max-age=60, s-maxage=300"),S}async function k(e){let t=await e.json().catch(()=>({})),r=v.default.DomainCheckSchema.safeParse(t);return r.success?P(r.data.domain):b.NextResponse.json({success:!1,error:"invalid_payload",details:r.error.format()},{status:400})}let $=x.z.object({name:x.z.string().min(1).max(255)});async function M(e){let t=e.headers.get("x-request-id")??function(){try{return globalThis.crypto?.randomUUID?.()??`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}catch(e){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}}();try{let r=new URL(e.url),a=Object.fromEntries(r.searchParams.entries()),n=$.safeParse(a);if(!n.success)return console.warn("[api/domain/info] invalid query",{requestId:t,params:a}),b.NextResponse.json({success:!1,error:"invalid_query",details:n.error.flatten()},{status:400});let i=(e.headers.get("x-forwarded-for")||"").split(",")[0]||e.headers.get("x-real-ip")||"unknown",o=await (0,A.checkRateLimit)(`domain:info:${i}`,{windowMs:3e5,max:60,prefix:"rl"});if(!o.allowed)return console.warn("[api/domain/info] rate limited",{requestId:t,clientIp:i}),b.NextResponse.json({success:!1,error:"rate_limited",resetAt:o.resetAt},{status:429});return console.log("[api/domain/info] request",{requestId:t,query:n.data,clientIp:i}),await P(n.data.name)}catch(e){return console.error("[api/domain/info] unexpected error",{requestId:t,err:e}),b.NextResponse.json({success:!1,error:"internal",requestId:t},{status:500})}}e.s(["GET",()=>M,"POST",()=>k],23477);var L=e.i(23477);let O=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/domain/info/route",pathname:"/api/domain/info",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/buildwithai/src/app/api/domain/info/route.ts",nextConfigOutput:"",userland:L}),{workAsyncStorage:U,workUnitAsyncStorage:_,serverHooks:q}=O;function j(){return(0,a.patchFetch)({workAsyncStorage:U,workUnitAsyncStorage:_})}async function H(e,t,a){O.isDev&&(0,n.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let b="/api/domain/info/route";b=b.replace(/\/index$/,"")||"/";let v=await O.prepare(e,t,{srcPage:b,multiZoneDraftMode:!1});if(!v)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:w,params:R,nextConfig:T,parsedUrl:C,isDraftMode:N,prerenderManifest:S,routerServerContext:D,isOnDemandRevalidate:E,revalidateOnlyGenerated:x,resolvedPathname:A,clientReferenceManifest:P,serverActionsManifest:k}=v,$=(0,s.normalizeAppPath)(b),M=!!(S.dynamicRoutes[$]||S.routes[A]),L=async()=>((null==D?void 0:D.render404)?await D.render404(e,t,C,!1):t.end("This page could not be found"),null);if(M&&!N){let e=!!S.routes[A],t=S.dynamicRoutes[$];if(t&&!1===t.fallback&&!e){if(T.experimental.adapterPath)return await L();throw new y.NoFallbackError}}let U=null;!M||O.isDev||N||(U="/index"===(U=A)?"/":U);let _=!0===O.isDev||!M,q=M&&!_;k&&P&&(0,o.setManifestsSingleton)({page:b,clientReferenceManifest:P,serverActionsManifest:k});let j=e.method||"GET",H=(0,i.getTracer)(),I=H.getActiveScopeSpan(),z={params:R,prerenderManifest:S,renderOpts:{experimental:{authInterrupts:!!T.experimental.authInterrupts},cacheComponents:!!T.cacheComponents,supportsDynamicResponse:_,incrementalCache:(0,n.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:T.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a,n)=>O.onRequestError(e,t,a,n,D)},sharedContext:{buildId:w}},K=new l.NodeNextRequest(e),B=new l.NodeNextResponse(t),F=c.NextRequestAdapter.fromNodeNextRequest(K,(0,c.signalFromNodeResponse)(t));try{let o=async e=>O.handle(F,z).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=H.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${j} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${j} ${b}`)}),s=!!(0,n.getRequestMeta)(e,"minimalMode"),l=async n=>{var i,l;let c=async({previousCacheEntry:r})=>{try{if(!s&&E&&x&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await o(n);e.fetchMetrics=z.renderOpts.fetchMetrics;let l=z.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let c=z.renderOpts.collectedTags;if(!M)return await (0,p.sendResponse)(K,B,i,z.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(i.headers);c&&(t[m.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==z.renderOpts.collectedRevalidate&&!(z.renderOpts.collectedRevalidate>=m.INFINITE_CACHE)&&z.renderOpts.collectedRevalidate,a=void 0===z.renderOpts.collectedExpire||z.renderOpts.collectedExpire>=m.INFINITE_CACHE?void 0:z.renderOpts.collectedExpire;return{value:{kind:f.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await O.onRequestError(e,t,{routerKind:"App Router",routePath:b,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:q,isOnDemandRevalidate:E})},!1,D),t}},d=await O.handleResponse({req:e,nextConfig:T,cacheKey:U,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:S,isRoutePPREnabled:!1,isOnDemandRevalidate:E,revalidateOnlyGenerated:x,responseGenerator:c,waitUntil:a.waitUntil,isMinimalMode:s});if(!M)return null;if((null==d||null==(i=d.value)?void 0:i.kind)!==f.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",E?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),N&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let y=(0,h.fromNodeOutgoingHttpHeaders)(d.value.headers);return s&&M||y.delete(m.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||y.get("Cache-Control")||y.set("Cache-Control",(0,g.getCacheControlHeader)(d.cacheControl)),await (0,p.sendResponse)(K,B,new Response(d.value.body,{headers:y,status:d.value.status||200})),null};I?await l(I):await H.withPropagatedContext(e.headers,()=>H.trace(d.BaseServerSpan.handleRequest,{spanName:`${j} ${b}`,kind:i.SpanKind.SERVER,attributes:{"http.method":j,"http.target":e.url}},l))}catch(t){if(t instanceof y.NoFallbackError||await O.onRequestError(e,t,{routerKind:"App Router",routePath:$,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:q,isOnDemandRevalidate:E})},!1,D),M)throw t;return await (0,p.sendResponse)(K,B,new Response(null,{status:500})),null}}e.s(["handler",()=>H,"patchFetch",()=>j,"routeModule",()=>O,"serverHooks",()=>q,"workAsyncStorage",()=>U,"workUnitAsyncStorage",()=>_],88584)}];

//# sourceMappingURL=b1365_next_dist_esm_build_templates_app-route_710b2a9b.js.map