{"version":3,"sources":["../../../../components/OperatorShell.tsx","../../../../components/ChatPanel.tsx","../../../../components/AutonomyPanel.tsx","../../../../components/FixReviewPanel.tsx","../../../../components/MonitoringPanel.tsx","../../../../components/EmailSettingsPanel.tsx","../../../../components/VideoPanel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect } from \"react\"\r\nimport ChatPanel from \"./ChatPanel\"\r\nimport AutonomyPanel from \"./AutonomyPanel\"\r\nimport FixReviewPanel from \"./FixReviewPanel\"\r\nimport MonitoringPanel from \"./MonitoringPanel\"\r\nimport EmailSettingsPanel from \"./EmailSettingsPanel\"\r\nimport IntelligencePanel from \"./IntelligencePanel\"\r\nimport VideoPanel from \"./VideoPanel\"\r\nimport type { AutonomyLevel } from \"@/lib/types\"\r\nimport type { OperatorHandshakeMessage } from \"@/lib/protocol\"\r\n\r\ntype OperatorShellProps = {\r\n  sessionId: string\r\n  mode: \"chat\" | \"video\" | \"monitor\" | \"fix-review\" | \"autonomy\" | \"email-settings\" | \"intel\"\r\n  level?: AutonomyLevel\r\n}\r\n\r\nexport default function OperatorShell({ sessionId, mode, level }: OperatorShellProps) {\r\n  useEffect(() => {\r\n    const handshake: OperatorHandshakeMessage = {\r\n      type: \"operator:handshake\",\r\n      sessionId,\r\n      mode,\r\n      level,\r\n    }\r\n    window.parent.postMessage(handshake, \"*\")\r\n  }, [level, mode, sessionId])\r\n\r\n  return (\r\n    <div style={{ minHeight: \"100vh\", background: \"#040711\", color: \"#e5e7eb\", padding: \"16px\" }}>\r\n      {mode === \"video\" && <VideoPanel />}\r\n      {mode === \"chat\" && <ChatPanel level={level} sessionId={sessionId} />}\r\n      {mode === \"monitor\" && <MonitoringPanel sessionId={sessionId} level={level} />}\r\n      {mode === \"fix-review\" && <FixReviewPanel sessionId={sessionId} level={level} />}\r\n      {mode === \"autonomy\" && <AutonomyPanel sessionId={sessionId} level={level} />}\r\n      {mode === \"email-settings\" && <EmailSettingsPanel sessionId={sessionId} level={level} />}\r\n      {mode === \"intel\" && <IntelligencePanel sessionId={sessionId} level={level} />}\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useRef, useState } from \"react\"\r\nimport type { AutonomyLevel, ChatMessage } from \"@/lib/types\"\r\nimport type {\r\n  OperatorApprovalRequiredMessage,\r\n  OperatorAutonomyStateMessage,\r\n  OperatorDiagnosisMessage,\r\n  OperatorFixAppliedMessage,\r\n  OperatorFixFailedMessage,\r\n  OperatorRollbackExecutedMessage,\r\n} from \"@/lib/protocol\"\r\n\r\ntype ChatPanelProps = {\r\n  level?: AutonomyLevel\r\n  sessionId?: string\r\n}\r\n\r\nexport default function ChatPanel({ level, sessionId }: ChatPanelProps) {\r\n  const effectiveSessionId = sessionId || \"demo-session\"\r\n  const modeLine =\r\n    level === \"A\"\r\n      ? \"Mode A: observing signals only.\"\r\n      : level === \"B\"\r\n      ? \"Mode B: can propose fixes with your approval.\"\r\n      : level === \"C\"\r\n      ? \"Mode C: future guarded autonomy (not enabled here).\"\r\n      : \"Operator mode not specified.\"\r\n\r\n  const sessionLine = `Memory is active for session ${effectiveSessionId}. Responses reference recent history.`\r\n\r\n  const [messages, setMessages] = useState<ChatMessage[]>([\r\n    {\r\n      from: \"operator\",\r\n      text: \"Hi! I'm your AI Operator. I keep session memory, retrieve site context, and guide onboarding.\",\r\n    },\r\n  ])\r\n  const [input, setInput] = useState(\"\")\r\n  const [sending, setSending] = useState(false)\r\n\r\n  const listRef = useRef<HTMLDivElement | null>(null)\r\n\r\n  useEffect(() => {\r\n    const el = listRef.current\r\n    if (el) {\r\n      el.scrollTop = el.scrollHeight\r\n    }\r\n  }, [messages, sending])\r\n\r\n  useEffect(() => {\r\n    const handler = (event: MessageEvent) => {\r\n      const data = event.data as\r\n        | OperatorDiagnosisMessage\r\n        | OperatorFixAppliedMessage\r\n        | OperatorFixFailedMessage\r\n        | OperatorApprovalRequiredMessage\r\n        | OperatorRollbackExecutedMessage\r\n        | OperatorAutonomyStateMessage\r\n        | undefined\r\n\r\n      if (!data) return\r\n\r\n      if (data.type === \"operator:diagnosis\") {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            from: \"operator\",\r\n            text: \"I've analyzed recent events and prepared fix proposals. Switch to Monitor mode to review.\",\r\n          },\r\n        ])\r\n      }\r\n\r\n      if (data.type === \"operator:fix-applied\") {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            from: \"operator\",\r\n            text: `Fix ${data.proposalId} applied (risk: ${data.risk}). Snapshot ${data.snapshotId ?? \"n/a\"}.`,\r\n          },\r\n        ])\r\n      }\r\n\r\n      if (data.type === \"operator:fix-failed\") {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            from: \"operator\",\r\n            text: `Fix ${data.proposalId} failed; rollback ${data.rollbackId ?? \"n/a\"}. Reason: ${data.reason ?? \"unknown\"}.`,\r\n          },\r\n        ])\r\n      }\r\n\r\n      if (data.type === \"operator:approval-required\") {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            from: \"operator\",\r\n            text: `Approval required for fix ${data.proposalId} (risk: ${data.risk}). Review in Fix Review panel.`,\r\n          },\r\n        ])\r\n      }\r\n\r\n      if (data.type === \"operator:rollback-executed\") {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            from: \"operator\",\r\n            text: `Rollback ${data.rollbackId} executed. Snapshot ${data.snapshotId ?? \"n/a\"}.`,\r\n          },\r\n        ])\r\n      }\r\n\r\n      if (data.type === \"operator:autonomy-state\") {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            from: \"operator\",\r\n            text: `Autonomy state updated. Allowed actions: ${data.allowed.join(\"; \")}.`,\r\n          },\r\n        ])\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"message\", handler)\r\n    return () => window.removeEventListener(\"message\", handler)\r\n  }, [])\r\n\r\n  async function sendMessage() {\r\n    if (!input.trim()) return\r\n    const userMsg: ChatMessage = { from: \"user\", text: input }\r\n    setMessages((prev) => [...prev, userMsg])\r\n    const toSend = input\r\n    setInput(\"\")\r\n    setSending(true)\r\n\r\n    try {\r\n      const res = await fetch(\"/api/chat\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ sessionId: effectiveSessionId, message: toSend }),\r\n      })\r\n      const data = await res.json().catch(() => undefined)\r\n      const replyText = data?.reply ?? \"I'm here to help with onboarding, site info, and monitoring.\"\r\n      setMessages((prev) => [...prev, { from: \"operator\", text: replyText }])\r\n    } catch (error) {\r\n      console.error(\"Failed to send chat\", error)\r\n      setMessages((prev) => [...prev, { from: \"operator\", text: \"Sorry, I couldn't respond right now.\" }])\r\n    } finally {\r\n      setSending(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ background: \"#0b1224\", borderRadius: 12, padding: 16, border: \"1px solid #1f2937\" }}>\r\n      <h2 style={{ margin: 0, marginBottom: 8, fontSize: 18 }}>Live Operator Chat</h2>\r\n      <p style={{ margin: 0, marginBottom: 4, color: \"#a5b4fc\", fontSize: 12 }}>{modeLine}</p>\r\n      <p style={{ margin: 0, marginBottom: 10, color: \"#7dd3fc\", fontSize: 12 }}>{sessionLine}</p>\r\n      <div\r\n        ref={listRef}\r\n        style={{ display: \"grid\", gap: 8, color: \"#cbd5e1\", fontSize: 14, maxHeight: 240, overflowY: \"auto\", paddingRight: 4 }}\r\n      >\r\n        {messages.map((msg, idx) => (\r\n          <div\r\n            key={`${msg.from}-${idx}`}\r\n            style={{\r\n              background: msg.from === \"operator\" ? \"#0f172a\" : \"#111827\",\r\n              padding: 10,\r\n              borderRadius: 10,\r\n            }}\r\n          >\r\n            <strong style={{ color: \"#e0e7ff\", marginRight: 6 }}>{msg.from === \"operator\" ? \"Operator:\" : \"You:\"}</strong>\r\n            <span>{msg.text}</span>\r\n          </div>\r\n        ))}\r\n        {sending && <div style={{ color: \"#9ca3af\", fontSize: 12 }}>Operator is thinking…</div>}\r\n      </div>\r\n      <div style={{ marginTop: 12, display: \"flex\", gap: 8 }}>\r\n        <input\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder=\"Ask about onboarding or your site\"\r\n          style={{\r\n            flex: 1,\r\n            borderRadius: 10,\r\n            border: \"1px solid #1f2937\",\r\n            background: \"#0f172a\",\r\n            color: \"#e5e7eb\",\r\n            padding: \"10px 12px\",\r\n          }}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          onClick={sendMessage}\r\n          disabled={sending}\r\n          style={{\r\n            borderRadius: 10,\r\n            background: \"linear-gradient(90deg, #4f7cff, #2ee6a6, #ffd166)\",\r\n            color: \"#0b1224\",\r\n            fontWeight: 700,\r\n            padding: \"10px 14px\",\r\n            border: \"none\",\r\n            cursor: sending ? \"not-allowed\" : \"pointer\",\r\n            opacity: sending ? 0.7 : 1,\r\n            minWidth: 88,\r\n          }}\r\n        >\r\n          {sending ? \"Sending\" : \"Send\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport type { AuditLogEntry, AutonomyLevel, Snapshot } from \"@/lib/types\"\r\n\r\ntype AutonomyPanelProps = {\r\n  sessionId: string\r\n  level?: AutonomyLevel\r\n}\r\n\r\nfunction allowedFor(level?: AutonomyLevel) {\r\n  if (level === \"A\") return [\"Observe only\", \"Collect diagnostics\"]\r\n  if (level === \"B\") return [\"Auto-apply low-risk fixes\", \"Request approval for medium-risk\", \"Block high-risk\"]\r\n  if (level === \"C\") return [\"Guarded autonomy\", \"Snapshot + verify + rollback\", \"Still block restricted areas\"]\r\n  return [\"Mode unspecified; defaulting to safe observation.\"]\r\n}\r\n\r\nexport default function AutonomyPanel({ sessionId, level }: AutonomyPanelProps) {\r\n  const [logs, setLogs] = useState<AuditLogEntry[]>([])\r\n  const [snapshots, setSnapshots] = useState<Snapshot[]>([])\r\n  const [message, setMessage] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(\"/api/operator/fix\")\r\n        const data = await res.json().catch(() => ({}))\r\n        setLogs(Array.isArray(data?.logs) ? data.logs : [])\r\n        setSnapshots(Array.isArray(data?.snapshots) ? data.snapshots : [])\r\n      } catch (err) {\r\n        console.error(\"Failed to load autonomy state\", err)\r\n      }\r\n    }\r\n    load()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const allowed = allowedFor(level)\r\n    window.parent.postMessage(\r\n      {\r\n        type: \"operator:autonomy-state\",\r\n        sessionId,\r\n        level,\r\n        allowed,\r\n        recentLogs: logs,\r\n      },\r\n      \"*\"\r\n    )\r\n  }, [level, logs, sessionId])\r\n\r\n  async function triggerRollback(snapshotId: string) {\r\n    setMessage(`Rolling back snapshot ${snapshotId}...`)\r\n    try {\r\n      const res = await fetch(\"/api/operator/rollback\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ snapshotId, reason: \"Manual rollback from AutonomyPanel\" }),\r\n      })\r\n      const data = await res.json().catch(() => ({}))\r\n      setMessage(data?.rollbackId ? `Rollback ${data.rollbackId} executed.` : \"Rollback request completed.\")\r\n\r\n      if (data?.rollbackId) {\r\n        window.parent.postMessage(\r\n          {\r\n            type: \"operator:rollback-executed\",\r\n            sessionId,\r\n            rollbackId: data.rollbackId,\r\n            snapshotId,\r\n            reason: \"Manual rollback\",\r\n          },\r\n          \"*\"\r\n        )\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Rollback failed\", err)\r\n      setMessage(\"Rollback failed to execute.\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ background: \"#0b1224\", borderRadius: 12, padding: 16, border: \"1px solid #1f2937\", color: \"#e5e7eb\" }}>\r\n      <h2 style={{ margin: 0, marginBottom: 8, fontSize: 18 }}>Autonomy Control</h2>\r\n      <p style={{ margin: 0, marginBottom: 6, color: \"#a5b4fc\", fontSize: 12 }}>\r\n        Session {sessionId} · Mode {level ?? \"unspecified\"}\r\n      </p>\r\n      <p style={{ margin: 0, marginBottom: 12, color: \"#7dd3fc\", fontSize: 12 }}>\r\n        Guarded hybrid autonomy: snapshots first, verification always, rollback on failure.\r\n      </p>\r\n\r\n      <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12, marginBottom: 12 }}>\r\n        <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Allowed actions</h3>\r\n        <ul style={{ margin: 0, paddingLeft: 16, color: \"#e5e7eb\", fontSize: 13 }}>\r\n          {allowedFor(level).map((item, idx) => (\r\n            <li key={`allowed-${idx}`}>{item}</li>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n\r\n      <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12, marginBottom: 12 }}>\r\n        <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Recent actions</h3>\r\n        {logs.length === 0 && <div style={{ color: \"#94a3b8\", fontSize: 13 }}>No audit logs yet.</div>}\r\n        <div style={{ display: \"grid\", gap: 8 }}>\r\n          {logs.map((log) => (\r\n            <div key={log.id} style={{ background: \"#111827\", padding: 8, borderRadius: 8 }}>\r\n              <div style={{ fontWeight: 600 }}>{log.actionType}</div>\r\n              <div style={{ fontSize: 12, color: \"#9ca3af\" }}>{log.timestamp}</div>\r\n              <div style={{ fontSize: 13, color: \"#cbd5e1\" }}>Risk: {log.risk}</div>\r\n              {log.message && <div style={{ fontSize: 13, color: \"#cbd5e1\" }}>{log.message}</div>}\r\n              {log.snapshotId && <div style={{ fontSize: 12, color: \"#a5b4fc\" }}>Snapshot: {log.snapshotId}</div>}\r\n              {log.rollbackId && <div style={{ fontSize: 12, color: \"#a5b4fc\" }}>Rollback: {log.rollbackId}</div>}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12 }}>\r\n        <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Snapshots</h3>\r\n        {snapshots.length === 0 && <div style={{ color: \"#94a3b8\", fontSize: 13 }}>No snapshots captured yet.</div>}\r\n        <div style={{ display: \"grid\", gap: 8 }}>\r\n          {snapshots.map((snap) => (\r\n            <div key={snap.id} style={{ background: \"#111827\", padding: 8, borderRadius: 8, display: \"grid\", gap: 4 }}>\r\n              <div style={{ fontWeight: 600 }}>{snap.id}</div>\r\n              <div style={{ fontSize: 12, color: \"#9ca3af\" }}>{snap.timestamp}</div>\r\n              <div style={{ fontSize: 13, color: \"#cbd5e1\" }}>{snap.reason}</div>\r\n              <div style={{ fontSize: 12, color: \"#a5b4fc\" }}>Risk: {snap.riskLevel}</div>\r\n              <div style={{ fontSize: 12, color: \"#cbd5e1\" }}>Files: {snap.affectedFiles.join(\", \") || \"n/a\"}</div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => triggerRollback(snap.id)}\r\n                style={{\r\n                  marginTop: 4,\r\n                  borderRadius: 8,\r\n                  border: \"1px solid #f97316\",\r\n                  background: \"#7c2d12\",\r\n                  color: \"#ffedd5\",\r\n                  padding: \"6px 10px\",\r\n                  cursor: \"pointer\",\r\n                  width: \"fit-content\",\r\n                }}\r\n              >\r\n                Roll back to snapshot\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {message && <div style={{ marginTop: 12, fontSize: 13, color: \"#cbd5e1\" }}>{message}</div>}\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport type { AutonomyLevel, Diagnosis, RemediationProposal, RemediationStep, RollbackPlan } from \"@/lib/types\"\r\nimport type {\r\n  OperatorApprovalRequiredMessage,\r\n  OperatorEmailStatusMessage,\r\n  OperatorFixAppliedMessage,\r\n  OperatorFixFailedMessage,\r\n} from \"@/lib/protocol\"\r\n\r\nconst samplePayload = {\r\n  events: [\r\n    {\r\n      id: \"evt-fix-1\",\r\n      timestamp: new Date().toISOString(),\r\n      source: \"api\",\r\n      severity: \"error\",\r\n      kind: \"error\",\r\n      message: \"POST /api/forms returned 500\",\r\n    },\r\n  ],\r\n}\r\n\r\ntype FixReviewPanelProps = {\r\n  sessionId: string\r\n  level?: AutonomyLevel\r\n}\r\n\r\nexport default function FixReviewPanel({ sessionId, level }: FixReviewPanelProps) {\r\n  const [diagnoses, setDiagnoses] = useState<Diagnosis[]>([])\r\n  const [proposals, setProposals] = useState<RemediationProposal[]>([])\r\n  const [rollbacks, setRollbacks] = useState<Record<string, RollbackPlan>>({})\r\n  const [status, setStatus] = useState<string>(\"\")\r\n\r\n  useEffect(() => {\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(\"/api/monitoring/diagnose\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(samplePayload),\r\n        })\r\n        const data = await res.json().catch(() => ({}))\r\n        const rollbacksMap: Record<string, RollbackPlan> = {}\r\n        if (Array.isArray(data?.rollbacks)) {\r\n          data.rollbacks.forEach((rb: RollbackPlan) => {\r\n            rollbacksMap[rb.id] = rb\r\n          })\r\n        }\r\n        setDiagnoses(Array.isArray(data?.diagnoses) ? data.diagnoses : [])\r\n        setProposals(Array.isArray(data?.proposals) ? data.proposals : [])\r\n        setRollbacks(rollbacksMap)\r\n      } catch (err) {\r\n        console.error(\"Failed to load fix proposals\", err)\r\n      }\r\n    }\r\n\r\n    load()\r\n  }, [])\r\n\r\n  async function submit(proposal: RemediationProposal, approved: boolean) {\r\n    setStatus(approved ? \"Applying low/medium risk fix...\" : \"Logging approval requirement...\")\r\n    try {\r\n      const res = await fetch(\"/api/operator/fix\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ proposal, approved, rollbackPlan: rollbacks[`rollback-${proposal.diagnosisId}`] }),\r\n      })\r\n      const data = await res.json().catch(() => ({}))\r\n      setStatus(data?.message || `Fix response: ${data?.status ?? \"unknown\"}`)\r\n\r\n      const notifyEmail = (category: OperatorEmailStatusMessage[\"category\"], sent = true, reason?: string) => {\r\n        const msg: OperatorEmailStatusMessage = { type: \"operator:email-status\", category, sent, reason }\r\n        window.parent.postMessage(msg, \"*\")\r\n      }\r\n\r\n      if (data?.status === \"applied\") {\r\n        const msg: OperatorFixAppliedMessage = {\r\n          type: \"operator:fix-applied\",\r\n          sessionId,\r\n          proposalId: proposal.id,\r\n          snapshotId: data?.snapshotId,\r\n          risk: data?.risk ?? proposal.risk,\r\n        }\r\n        window.parent.postMessage(msg, \"*\")\r\n        notifyEmail(\"fix-applied\")\r\n      } else if (data?.status === \"pending-approval\") {\r\n        const msg: OperatorApprovalRequiredMessage = {\r\n          type: \"operator:approval-required\",\r\n          sessionId,\r\n          proposalId: proposal.id,\r\n          risk: data?.risk ?? proposal.risk,\r\n        }\r\n        window.parent.postMessage(msg, \"*\")\r\n        notifyEmail(\"approval-required\")\r\n      } else if (data?.status === \"rolled-back\" || data?.status === \"rejected\") {\r\n        const msg: OperatorFixFailedMessage = {\r\n          type: \"operator:fix-failed\",\r\n          sessionId,\r\n          proposalId: proposal.id,\r\n          rollbackId: data?.rollbackId,\r\n          snapshotId: data?.snapshotId,\r\n          risk: data?.risk ?? proposal.risk,\r\n          reason: data?.message,\r\n        }\r\n        window.parent.postMessage(msg, \"*\")\r\n        notifyEmail(data?.status === \"rejected\" ? \"high-risk-blocked\" : \"fix-failed\")\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to process fix\", err)\r\n      setStatus(\"Failed to process fix request.\")\r\n    }\r\n  }\r\n\r\n  const modeLine =\r\n    level === \"A\"\r\n      ? \"Mode A: observation only; approvals required.\"\r\n      : level === \"B\"\r\n      ? \"Mode B: may auto-apply low-risk; approval for medium.\"\r\n      : level === \"C\"\r\n      ? \"Mode C: guarded autonomy (still logged).\"\r\n      : \"Mode unspecified.\"\r\n\r\n  return (\r\n    <div style={{ background: \"#0b1224\", borderRadius: 12, padding: 16, border: \"1px solid #1f2937\", color: \"#e5e7eb\" }}>\r\n      <h2 style={{ margin: 0, marginBottom: 8, fontSize: 18 }}>Fix Review</h2>\r\n      <p style={{ margin: 0, marginBottom: 6, color: \"#a5b4fc\", fontSize: 12 }}>{modeLine}</p>\r\n      <p style={{ margin: 0, marginBottom: 12, color: \"#7dd3fc\", fontSize: 12 }}>\r\n        Session {sessionId}: approve or decline proposed fixes. High-risk fixes are blocked.\r\n      </p>\r\n      <p style={{ margin: 0, marginBottom: 12, color: \"#94a3b8\", fontSize: 12 }}>Diagnoses: {diagnoses.length}</p>\r\n\r\n      <div style={{ display: \"grid\", gap: 12, maxHeight: 520, overflowY: \"auto\", paddingRight: 4 }}>\r\n        {proposals.length === 0 && <div style={{ color: \"#94a3b8\", fontSize: 13 }}>No proposals available.</div>}\r\n\r\n        {proposals.map((prop) => {\r\n          const rollback = rollbacks[`rollback-${prop.diagnosisId}`]\r\n          return (\r\n            <div key={prop.id} style={{ background: \"#0f172a\", borderRadius: 10, padding: 12, display: \"grid\", gap: 8 }}>\r\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", gap: 8, alignItems: \"center\" }}>\r\n                <div style={{ fontWeight: 700 }}>Proposal {prop.id}</div>\r\n                <div style={{ fontSize: 12, color: \"#f9a8d4\" }}>Risk: {prop.risk}</div>\r\n              </div>\r\n              <div style={{ fontSize: 13, color: \"#cbd5e1\" }}>{prop.expectedImpact}</div>\r\n              <ul style={{ margin: 0, paddingLeft: 16, color: \"#e5e7eb\", fontSize: 13 }}>\r\n                {prop.steps.map((step: RemediationStep, idx: number) => (\r\n                  <li key={`${prop.id}-step-${idx}`}>{step.description}</li>\r\n                ))}\r\n              </ul>\r\n              {rollback && (\r\n                <div style={{ fontSize: 12, color: \"#a5b4fc\" }}>\r\n                  Rollback plan: {rollback.steps.join(\" → \")}; verify: {rollback.verificationCriteria.join(\", \")}\r\n                </div>\r\n              )}\r\n              <div style={{ display: \"flex\", gap: 8 }}>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => submit(prop, true)}\r\n                  style={{\r\n                    borderRadius: 8,\r\n                    border: \"1px solid #22c55e\",\r\n                    background: \"#064e3b\",\r\n                    color: \"#ecfdf3\",\r\n                    padding: \"8px 12px\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  Approve & Apply\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => submit(prop, false)}\r\n                  style={{\r\n                    borderRadius: 8,\r\n                    border: \"1px solid #fbbf24\",\r\n                    background: \"#78350f\",\r\n                    color: \"#fffbeb\",\r\n                    padding: \"8px 12px\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  Request Approval\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      {status && <div style={{ marginTop: 12, fontSize: 13, color: \"#cbd5e1\" }}>{status}</div>}\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport type {\r\n  AutonomyLevel,\r\n  Diagnosis,\r\n  MonitoringEvent,\r\n  RemediationProposal,\r\n  RemediationStep,\r\n  RollbackPlan,\r\n} from \"@/lib/types\"\r\nimport type { OperatorDiagnosisMessage } from \"@/lib/protocol\"\r\n\r\nconst sampleEvents: MonitoringEvent[] = [\r\n  {\r\n    id: \"evt-1\",\r\n    timestamp: new Date().toISOString(),\r\n    source: \"edge-worker\",\r\n    severity: \"warning\",\r\n    kind: \"latency\",\r\n    message: \"Homepage TTFB elevated to 450ms\",\r\n    context: { path: \"/\" },\r\n  },\r\n  {\r\n    id: \"evt-2\",\r\n    timestamp: new Date().toISOString(),\r\n    source: \"api\",\r\n    severity: \"error\",\r\n    kind: \"error\",\r\n    message: \"POST /api/contact returned 500 for user 123\",\r\n    context: { path: \"/api/contact\" },\r\n  },\r\n]\r\n\r\ntype MonitoringPanelProps = {\r\n  sessionId: string\r\n  level?: AutonomyLevel\r\n}\r\n\r\nexport default function MonitoringPanel({ sessionId, level }: MonitoringPanelProps) {\r\n  const [events] = useState<MonitoringEvent[]>(sampleEvents)\r\n  const [diagnoses, setDiagnoses] = useState<Diagnosis[]>([])\r\n  const [proposals, setProposals] = useState<RemediationProposal[]>([])\r\n  const [rollbacks, setRollbacks] = useState<RollbackPlan[]>([])\r\n\r\n  useEffect(() => {\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(\"/api/monitoring/diagnose\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ events }),\r\n        })\r\n        const data = await res.json().catch(() => ({}))\r\n        const diagList = Array.isArray(data?.diagnoses) ? data.diagnoses : []\r\n        const propList = Array.isArray(data?.proposals) ? data.proposals : []\r\n        const rbList = Array.isArray(data?.rollbacks) ? data.rollbacks : []\r\n        setDiagnoses(diagList)\r\n        setProposals(propList)\r\n        setRollbacks(rbList)\r\n\r\n        const msg: OperatorDiagnosisMessage = {\r\n          type: \"operator:diagnosis\",\r\n          sessionId,\r\n          diagnoses: diagList,\r\n          proposals: propList,\r\n        }\r\n        window.parent.postMessage(msg, \"*\")\r\n      } catch (err) {\r\n        console.error(\"Failed to load monitoring data\", err)\r\n      }\r\n    }\r\n\r\n    load()\r\n  }, [events, sessionId])\r\n\r\n  const modeLine =\r\n    level === \"A\"\r\n      ? \"Mode A: observing only.\"\r\n      : level === \"B\"\r\n      ? \"Mode B: proposing fixes; requires your approval.\"\r\n      : level === \"C\"\r\n      ? \"Mode C: (future) guarded autonomy; disabled here.\"\r\n      : \"Mode unspecified.\"\r\n\r\n  return (\r\n    <div style={{ background: \"#0b1224\", borderRadius: 12, padding: 16, border: \"1px solid #1f2937\", color: \"#e5e7eb\" }}>\r\n      <h2 style={{ margin: 0, marginBottom: 8, fontSize: 18 }}>Monitoring Dashboard</h2>\r\n      <p style={{ margin: 0, marginBottom: 6, color: \"#a5b4fc\", fontSize: 12 }}>{modeLine}</p>\r\n      <p style={{ margin: 0, marginBottom: 12, color: \"#7dd3fc\", fontSize: 12 }}>\r\n        Session {sessionId}: live diagnostics with proposed fixes and rollback plans. No autonomous execution.\r\n      </p>\r\n\r\n      <div style={{ display: \"grid\", gap: 12, maxHeight: 520, overflowY: \"auto\", paddingRight: 4 }}>\r\n        <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12 }}>\r\n          <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Recent Events</h3>\r\n          <div style={{ display: \"grid\", gap: 8 }}>\r\n            {events.map((evt) => (\r\n              <div key={evt.id} style={{ background: \"#111827\", padding: 8, borderRadius: 8 }}>\r\n                <div style={{ fontSize: 12, color: \"#9ca3af\" }}>{evt.timestamp}</div>\r\n                <div style={{ fontWeight: 600 }}>{evt.severity.toUpperCase()} · {evt.kind} · {evt.source}</div>\r\n                <div style={{ fontSize: 14 }}>{evt.message}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n\r\n        <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12 }}>\r\n          <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Diagnoses</h3>\r\n          <div style={{ display: \"grid\", gap: 8 }}>\r\n            {diagnoses.length === 0 && <div style={{ color: \"#94a3b8\", fontSize: 13 }}>No diagnoses yet.</div>}\r\n            {diagnoses.map((diag) => (\r\n              <div key={diag.id} style={{ background: \"#111827\", padding: 8, borderRadius: 8 }}>\r\n                <div style={{ fontWeight: 600 }}>{diag.summary}</div>\r\n                <div style={{ fontSize: 12, color: \"#9ca3af\" }}>Confidence: {Math.round(diag.confidence * 100)}%</div>\r\n                <div style={{ fontSize: 13, color: \"#cbd5e1\" }}>Evidence: {diag.evidence.join(\" | \")}</div>\r\n                <div style={{ fontSize: 13, color: \"#cbd5e1\" }}>Causes: {diag.suspectedCauses.join(\", \")}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n\r\n        <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12 }}>\r\n          <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Fix Proposals (Mode B)</h3>\r\n          <div style={{ display: \"grid\", gap: 8 }}>\r\n            {proposals.length === 0 && <div style={{ color: \"#94a3b8\", fontSize: 13 }}>No proposals yet.</div>}\r\n            {proposals.map((prop) => (\r\n              <div key={prop.id} style={{ background: \"#111827\", padding: 8, borderRadius: 8 }}>\r\n                <div style={{ fontWeight: 600 }}>Proposal {prop.id}</div>\r\n                <div style={{ fontSize: 13, color: \"#cbd5e1\" }}>Impact: {prop.expectedImpact}</div>\r\n                <div style={{ fontSize: 13, color: \"#cbd5e1\" }}>Risk: {prop.risk}</div>\r\n                <ul style={{ margin: \"6px 0 0 16px\", padding: 0, color: \"#e5e7eb\", fontSize: 13 }}>\r\n                  {prop.steps.map((step: RemediationStep, idx: number) => (\r\n                    <li key={`${prop.id}-step-${idx}`}>{step.description}</li>\r\n                  ))}\r\n                </ul>\r\n                <div style={{ fontSize: 12, color: \"#9ca3af\" }}>\r\n                  Requires approval: {prop.requiresApproval ? \"Yes\" : \"No\"}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n\r\n        <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12 }}>\r\n          <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Rollback Plans (Mode B/C)</h3>\r\n          <div style={{ display: \"grid\", gap: 8 }}>\r\n            {rollbacks.length === 0 && <div style={{ color: \"#94a3b8\", fontSize: 13 }}>No rollback plans yet.</div>}\r\n            {rollbacks.map((plan) => (\r\n              <div key={plan.id} style={{ background: \"#111827\", padding: 8, borderRadius: 8 }}>\r\n                <div style={{ fontWeight: 600 }}>{plan.id}</div>\r\n                <ol style={{ margin: \"6px 0 0 16px\", padding: 0, color: \"#e5e7eb\", fontSize: 13 }}>\r\n                  {plan.steps.map((step: string, idx: number) => (\r\n                    <li key={`${plan.id}-step-${idx}`}>{step}</li>\r\n                  ))}\r\n                </ol>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport type { AutonomyLevel } from \"@/lib/types\"\r\n\r\nconst envVars = [\r\n  \"MAILCOW_SMTP_HOST\",\r\n  \"MAILCOW_SMTP_PORT\",\r\n  \"MAILCOW_SMTP_USER\",\r\n  \"MAILCOW_SMTP_PASS\",\r\n  \"MAILCOW_SMTP_FROM\",\r\n  \"MAILCOW_ALERT_RECIPIENTS\",\r\n]\r\n\r\ntype EmailSettingsPanelProps = {\r\n  sessionId: string\r\n  level?: AutonomyLevel\r\n}\r\n\r\nexport default function EmailSettingsPanel({ sessionId, level }: EmailSettingsPanelProps) {\r\n  return (\r\n    <div style={{ background: \"#0b1224\", borderRadius: 12, padding: 16, border: \"1px solid #1f2937\", color: \"#e5e7eb\" }}>\r\n      <h2 style={{ margin: 0, marginBottom: 8, fontSize: 18 }}>Email Settings</h2>\r\n      <p style={{ margin: 0, marginBottom: 6, color: \"#a5b4fc\", fontSize: 12 }}>\r\n        Session {sessionId} · Mode {level ?? \"unspecified\"}\r\n      </p>\r\n      <p style={{ margin: 0, marginBottom: 12, color: \"#7dd3fc\", fontSize: 12 }}>\r\n        Configure Mailcow SMTP variables for notifications. No third-party SaaS is used.\r\n      </p>\r\n\r\n      <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12, marginBottom: 12 }}>\r\n        <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Required environment variables</h3>\r\n        <ul style={{ margin: 0, paddingLeft: 16, color: \"#e5e7eb\", fontSize: 13 }}>\r\n          {envVars.map((env) => (\r\n            <li key={env}>{env}</li>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n\r\n      <section style={{ background: \"#0f172a\", borderRadius: 10, padding: 12 }}>\r\n        <h3 style={{ margin: 0, marginBottom: 8, fontSize: 14, color: \"#c7d2fe\" }}>Notes</h3>\r\n        <ul style={{ margin: 0, paddingLeft: 16, color: \"#e5e7eb\", fontSize: 13 }}>\r\n          <li>High-risk fixes are blocked and only send alert emails; they never auto-run.</li>\r\n          <li>Approval-required fixes send an alert; execution still requires consent.</li>\r\n          <li>Critical monitoring events and daily summaries send to alert recipients.</li>\r\n        </ul>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useState } from \"react\"\r\n\r\ntype VideoPanelProps = {\r\n  sessionId?: string\r\n}\r\n\r\nexport default function VideoPanel({ sessionId }: VideoPanelProps) {\r\n  const [joining, setJoining] = useState(false)\r\n  const [videoUrl, setVideoUrl] = useState<string | null>(null)\r\n  const effectiveSessionId = sessionId || \"demo-session\"\r\n\r\n  async function joinSession() {\r\n    setJoining(true)\r\n    try {\r\n      const res = await fetch(\"/api/video/session\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ sessionId: effectiveSessionId }),\r\n      })\r\n      const data = await res.json().catch(() => undefined)\r\n      if (data?.url) {\r\n        setVideoUrl(data.url)\r\n        window.open(data.url, \"_blank\")\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to join video session\", error)\r\n    } finally {\r\n      setJoining(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ background: \"#0b1224\", borderRadius: 12, padding: 16, border: \"1px solid #1f2937\" }}>\r\n      <h2 style={{ margin: 0, marginBottom: 8, fontSize: 18 }}>Live Operator Video</h2>\r\n      <div style={{ overflow: \"hidden\", borderRadius: 12, border: \"1px solid #1f2937\", background: \"#0f172a\", height: 220 }}>\r\n        <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", height: \"100%\", color: \"#94a3b8\", padding: 16, textAlign: \"center\" }}>\r\n          {videoUrl ? \"Opening your live session in a new tab…\" : \"Join a live Operator session to collaborate over video.\"}\r\n        </div>\r\n      </div>\r\n      <div style={{ marginTop: 12, display: \"flex\", gap: 10 }}>\r\n        <button\r\n          type=\"button\"\r\n          onClick={joinSession}\r\n          disabled={joining}\r\n          style={{\r\n            borderRadius: 10,\r\n            background: \"linear-gradient(90deg, #4f7cff, #2ee6a6, #ffd166)\",\r\n            color: \"#0b1224\",\r\n            fontWeight: 700,\r\n            padding: \"10px 14px\",\r\n            border: \"none\",\r\n            cursor: joining ? \"not-allowed\" : \"pointer\",\r\n            opacity: joining ? 0.7 : 1,\r\n            minWidth: 140,\r\n          }}\r\n        >\r\n          {joining ? \"Connecting…\" : \"Join live session\"}\r\n        </button>\r\n        <div style={{ color: \"#94a3b8\", fontSize: 12, alignSelf: \"center\" }}>\r\n          Opens a secure room for your Operator and team. Placeholder link for now.\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}